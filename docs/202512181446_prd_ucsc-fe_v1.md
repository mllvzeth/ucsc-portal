# Product Requirements Document

## "UCSC Assessment Hub" – Portfolio Project for Frontend Developer Role

**Date:** December 18, 2025

**Target Position:** Smarter Balanced Frontend Developer (UCSC)

**Primary Stack:** TanStack Start, React, TypeScript, CSS, Node.js

**Supporting Evidence:** Thymeleaf (static), Angular (micro-app), AWS Services (RDS/Redshift/S3/CloudFront/Lambda), WCAG 2.1 AA

---

## 1\. Executive Summary

"UCSC Assessment Hub" is a full-stack portfolio project aimed at demonstrating advanced front-end development competencies tailored to the Smarter Balanced Frontend Developer role at UC Santa Cruz. This app models a modern student assessment portal integrated with legacy administrative systems, showcasing your ability to:

* Build **secure, accessible, performant** UIs using modern frameworks (TanStack Start, React, TypeScript)

* Integrate **enterprise authentication** (OAuth2/OIDC, SAML-ready design)

* Work with **cloud data services** (Amazon RDS, Redshift)

* Maintain **accessibility standards** (WCAG 2.1 AA)

* Bridge **legacy and modern** codebases (Thymeleaf, Angular, TanStack Start)

---

## 2\. Problem & Context

UCSC and peer institutions are actively modernizing campus assessment systems:

* **Legacy Systems:** Outdated Java/Spring/Thymeleaf-based admin interfaces

* **Student-Facing Apps:** Growing demand for modern UX/Accessibility in assessment portals

* **Security Requirements:** Need for robust SSO/SAML integration with campus identity providers

* **Data Integration:** Must connect student data from RDS and analytics from Redshift

* **Accessibility Mandate:** K-12 and Higher Ed require WCAG compliance for all assessment tools

This project demonstrates deep understanding of the modernization landscape and readiness to deliver in this environment.

---

## 3\. Project Architecture

### 3.1 High-Level System Diagram

```
┌─────────────────────────────────────────────────────────────┐
│                    "UCSC Assessment Hub"                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────────┐  ┌──────────────────┐                 │
│  │ TanStack Start   │  │  Legacy Admin    │                 │
│  │  (Main Portal)   │  │  (Angular App)   │                 │
│  │  ✓ WCAG AA       │  │  ✓ Angular v15+  │                 │
│  │  ✓ SSO/OAuth2    │  │  ✓ TypeScript    │                 │
│  │  ✓ SSR/Selective │  │  ✓ CSS           │                 │
│  └────────┬─────────┘  └────────┬─────────┘                 │
│           │                     │                           │
│  ┌────────┴──────────────────────┴─────────┐                │
│  │   Shared Auth & API Gateway (Node.js)   │                │
│  │  ✓ OIDC/OAuth2 Server Functions         │                │
│  │  ✓ Session Management                   │                │
│  │  ✓ Role-Based Route Protection          │                │
│  └────────┬──────────────────────────────┬─┘                │
│           │                              │                  │
│  ┌────────▼────────┐          ┌─────────▼──────┐           │
│  │  Amazon RDS     │          │  Amazon        │           │
│  │  (Postgres)     │          │  Redshift      │           │
│  │  - Students     │          │  - Analytics   │           │
│  │  - Assessments  │          │  - Trends      │           │
│  └─────────────────┘          └────────────────┘           │
│                                                             │
│  ┌──────────────────────────────────────────┐               │
│  │   Legacy Templates (Documentation)       │               │
│  │   - Thymeleaf Login Page                 │               │
│  │   - Email Templates                      │               │
│  └──────────────────────────────────────────┘               │
└─────────────────────────────────────────────────────────────┘

```

### 3.2 Monorepo Structure with Nx

```
assessment-hub/
├── README.md
├── package.json
├── nx.json
├── .env.example
├── .github/
│   └── workflows/
│       └── deploy.yml
├── apps/
│   ├── portal/         # TanStack Start (Main App)
│   └── admin/          # Angular Micro-App
├── legacy-templates/   # Thymeleaf Examples (Static)
├── docs/
│   ├── ARCHITECTURE.md
│   ├── AUTHENTICATION.md
│   ├── ACCESSIBILITY.md
│   ├── DATABASE.md
│   └── DEPLOYMENT.md  # AWS deployment guide
└── .env.example

```

Nx in the Monorepo

This project employs **Nx** for monorepo management:

* Root **nx.json** orchestrates all workspace tasks.

* Nx manages setup, build, test, and lint for all apps via CLI/config.

* Scaffold apps using workspace generators. For example:

  * `npx nx generate @nx/react:application portal`

  * `npx nx generate @nx/angular:application admin`

* Ensures efficient, incremental builds and fast CI using computation caching.

* Nx plugin ecosystem affords seamless integration of Angular, React, and documentation.

**Development Quick Start:**

1. Install dependencies: `npm install`

2. Scaffold apps: `npx nx generate ...`

3. Run apps: `npx nx serve portal` and `npx nx serve admin`

4. Run all builds/lints/tests: `npx nx run-many --target=build|lint|test --all`

5. Visualize dependency graph: `npx nx graph`

## 3.3 TanStack Start + Nx Integration Strategy

### 3.3.1 Why This Approach Works

Your original PRD suggested using `@nx/react:application`, which is sound for an Nx monorepo. However, **TanStack Start requires special handling** because:

- TanStack Start is **Vite-first** and currently in Release Candidate (v0.x)
- **No official Nx plugin** exists yet for TanStack Start (unlike Next.js or Remix)
- Nx's standard React generator produces a different build output than TanStack Start expects
- You'll need to **manually configure** TanStack Start alongside Nx's workspace tooling

### 3.3.2 Recommended Integration Pattern

```
assessment-hub/ (Nx monorepo root)
├── apps/
│   ├── portal/                    # TanStack Start Main App
│   │   ├── vite.config.ts         # TanStack Start + Vite config
│   │   ├── src/
│   │   │   ├── routes/            # Type-safe route definitions
│   │   │   │   ├── __root.tsx     # Root layout
│   │   │   │   ├── _layout.tsx    # Auth-protected layout
│   │   │   │   ├── index.tsx      # Dashboard home
│   │   │   │   └── assessments/   # Nested routes
│   │   │   ├── app.config.ts      # TanStack Start config
│   │   │   ├── entry.client.tsx   # Client entry point
│   │   │   ├── entry.server.tsx   # Server entry point
│   │   │   └── App.tsx            # Root component
│   │   └── package.json           # Portal-specific deps
│   └── admin/                     # Angular Micro-app (Phase 3)
├── libs/
│   ├── auth/                      # Shared auth logic
│   │   ├── src/
│   │   │   ├── hooks/
│   │   │   │   ├── useAuth.ts     # Auth context hook
│   │   │   │   └── useSession.ts  # Session management
│   │   │   ├── middleware/
│   │   │   │   ├── oidc.ts        # OAuth2/OIDC handlers
│   │   │   │   └── sessionGuard.ts
│   │   │   └── types/
│   │   │       └── auth.types.ts
│   ├── ui/                        # Shared UI components (WCAG AA)
│   │   ├── src/
│   │   │   ├── components/
│   │   │   │   ├── Button.tsx
│   │   │   │   ├── Card.tsx
│   │   │   │   ├── Form.tsx
│   │   │   │   ├── Navigation.tsx
│   │   │   │   └── Accessibility.tsx
│   │   │   ├── hooks/
│   │   │   │   ├── useFocusManagement.ts
│   │   │   │   └── useKeyboardNav.ts
│   │   │   └── styles/
│   │   │       ├── variables.css  # A11y color contrasts
│   │   │       └── a11y.css       # Accessibility utilities
│   │   └── tsconfig.json
│   └── api-client/                # Data access & queries
│       ├── src/
│       │   ├── queries/
│       │   │   ├── assessments.ts
│       │   │   └── students.ts
│       │   └── config/
│       │       └── queryClient.ts
├── apps-api/                      # Node.js Shared Auth Gateway (Phase 2)
│   ├── src/
│   │   ├── auth/
│   │   │   ├── oidc.handler.ts
│   │   │   └── session.handler.ts
│   │   └── middleware/
│   │       └── rbac.ts            # Role-Based Access Control
├── .env.example
├── nx.json
├── tsconfig.base.json
└── package.json
```

### 3.3.3 Configuration Steps for Phase 1

**Step 1: Initialize Nx Monorepo**
```bash
# Create the monorepo with Nx
npx create-nx-workspace assessment-hub --preset=empty

# Navigate into workspace
cd assessment-hub

# Add Nx React and Vite support
npm install -D @nx/react @nx/vite vite

# Initialize git for Nx features
git init
```

**Step 2: Create TanStack Start Application Manually**
```bash
# Rather than using Nx generators, create portal app using TanStack's scaffolding
# This gives you their exact Vite config and TanStack Router setup
npm create @tanstack/start@latest -- --template react-ssr

# Adjust the generated portal/ directory into your Nx apps/ folder
# Update its package.json to reference Nx workspace root
```

**Step 3: Configure Nx to Recognize Portal App**
```typescript
// nx.json - add portal to workspaces
{
  "workspaceLayout": {
    "appsDir": "apps",
    "libsDir": "libs"
  },
  "plugins": [
    {
      "plugin": "@nx/vite/plugin",
      "options": {
        "targetName": "serve"
      }
    }
  ]
}
```

**Step 4: Create Shared Libraries**
```bash
# Generate shared auth library
npx nx g @nx/react:library auth --bundler=vite

# Generate shared UI component library
npx nx g @nx/react:library ui --bundler=vite

# Generate API client library
npx nx g @nx/react:library api-client --bundler=vite
```

**Step 5: Configure TanStack Router in Portal App**
```typescript
// apps/portal/vite.config.ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import { tanstackRouterVite } from '@tanstack/router/vite'

export default defineConfig({
  plugins: [
    tanstackRouterVite(),
    react(),
  ],
  resolve: {
    alias: {
      '@/auth': new URL('../../../libs/auth/src', import.meta.url).pathname,
      '@/ui': new URL('../../../libs/ui/src', import.meta.url).pathname,
      '@/api': new URL('../../../libs/api-client/src', import.meta.url).pathname,
    },
  },
})
```

---

## 4\. Core Features

### 4.1 Student Dashboard (TanStack Start App)

* **Login/OIDC Session**

  * OAuth2/OIDC via Auth.js or Better-Auth

  * Session management, error/retry, keyboard accessibility

* **Dashboard**

  * Welcome card, stats (Pending/Completed), responsive layout, SSR data fetching

* **Assessments List**

  * Paginated, filterable table via Amazon RDS

  * Table semantics, accessibility features

* **Assessment Detail**

  * Rich content, progress indicators, accessible modal submission

* **Results Viewer**

  * Analytics chart from Amazon Redshift

  * Alt-text, data table fallback for accessibility

### 4.2 Legacy Admin Panel (Angular)

* **Admin Dashboard**

  * Stats, shared SSO session

* **User Management (stub)**

  * User list, use of Angular services

* **Configuration (stub)**

  * Settings UI, Angular forms

### 4.3 Authentication & Security

* **OIDC/OAuth2** with ready SAML extension (documented)

* **Role-based routing** and session sharing

* **Secure session lifecycle**

### 4.4 Data Integration

* **Amazon RDS (Postgres):** Assessments data via type-safe queries

* **Amazon Redshift:** Analytics via SSR/server function calls

* **Setup:** Local Postgres for dev; migration guide for AWS

### 4.5 Accessibility (WCAG 2.1 AA)

**Complete accessibility coverage:** Skip links, ARIA, semantic HTML, color independence, automated axe-core checks.

---

## 5\. Tech Stack

---

## 6\. Key Differentiators for Job Application

* **Legacy-to-Modern Bridge:** Demonstrates integration from Angular/Thymeleaf to React using Nx.

* **Enterprise Security:** End-to-end OAuth2/OIDC with documented SAML extension.

* **Cloud-Native, AWS-First:** Native AWS services for data, static hosting, serverless, and best-practice IAM setup.

* **Accessibility-First:** Accessibility actively built into UX and automated CI.

* **Real-World Architecture:** Nx monorepo for scalable, multi-framework management.

---

## 7\. Development Phases

1. **Foundation (Week 1)**

  * TanStack Start and Angular apps via Nx

2. **Authentication (Week 2)**

  * OAuth2/OIDC integration, protected routes, session wiring

3. **UI & Accessibility (Week 3)**

  * Design system with accessible components, axe-core testing

4. **Data Integration (Week 4)**

  * RDS/Redshift setup, server function implementations

5. **Legacy & Documentation (Week 5)**

  * Thymeleaf templates, Angular admin, documentation

6. **Polish & Testing (Week 6)**

  * WCAG/manual test, build/lint/test finalization, deployment prep

---

## 8\. Success Criteria

### For Hiring Manager Review

* Clear README, local Nx/TanStack/Angular setup

* Working OAuth/OIDC login

* WCAG verification in core flows

* Demo RDS/Redshift integration

* Angular admin loads and shares session

* Thymeleaf examples present

* Docs folder and commit history complete

* Public GitHub + live AWS-hosted demo

### For Technical Interview

* SAML/AD extension discussion in `AUTHENTICATION.md`

* Nx caching/optimization details, SSR/CDN rationale

* Accessibility implementation

* Redshift analytics query approach

* Nx monorepo orchestration explanation

---

## 9\. Deployment & Sharing

### AWS Deployment (Recommended Workflow)

Static Frontend (Portal, Admin)

* **Build artifacts** for the portal and admin apps (React/Angular) should be uploaded to **AWS S3**.

* **Configure AWS CloudFront** as the CDN/distribution service for global, high-performance access.

* Public demo URLs should be generated via CloudFront for review and prototyping.

Server Functions / SSR

* All required TanStack Start server functions and SSR logic should be deployed as **AWS Lambda functions**. Use:

  * AWS Lambda@Edge for global SSR at scale, or

  * Standard AWS Lambda behind API Gateway for serverless APIs.

CI/CD and Automation

* **CI/CD workflows** (see `.github/workflows/deploy.yml`) should use AWS CLI and AWS-integrated actions for deployment:

  * Securely configure IAM credentials and environment variables via GitHub Actions secrets or AWS IAM roles.

  * Automated S3 upload and cache-invalidation scripts for CloudFront.

  * AWS Lambda deployment with versioning.

* For demo or review builds, set up short-lived preview pipelines to secondary S3 buckets/CloudFront distributions.

Documentation

* All AWS-specific deployment instructions, IAM permissions, and step-by-step guides are documented in `/docs/DEPLOYMENT.md`.

* Environment variable and credential management practices are described in `.env.example` and the deployment documentation.

Sharing

* **GitHub**: All code and documentation in a public Nx monorepo.

* **Live Demo**: Deployed on AWS. Shareable public CloudFront URL (e.g., `https://demo.ucscassessmenthub.cloudfront.net`).

* **Local Setup**: `npm install && npx nx run-many --target=serve --all` (for dev)

---

## 10\. Refined Scope (What NOT to Build)

* ❌ Full Spring Boot back-end (Node.js suffices)

* ❌ Docker/K8s orchestration (mention only)

* ❌ E2E suite (unit tests + E2E for auth core only)

* ❌ Full i18n (English demo OK)

* ❌ Mobile app (responsive web is enough)

---

## 11\. Talking Points for Your Resume & Interview

**Resume Example:**

> "Built 'UCSC Assessment Hub,' a full-stack Nx monorepo demonstrating modern front-end with OAuth2/OIDC SSO, WCAG 2.1 AA compliance, AWS RDS/Redshift integration, and AWS-first deployment. Combined TanStack Start (React/TypeScript) and Angular micro-apps, bridging legacy and modern architectures."

**Cover Letter Example:**

> "This project was architected to match UCSC's needs: robust SSO, accessibility, AWS integration, and codebase modernization. I used Nx for adaptive multi-framework management, with comprehensive documentation and enterprise-grade authentication."

**Technical Interview Prep:**

> "OIDC authentication (Auth.js) is ready for SAML/AD Federation, handled via serverless AWS Lambda. Nx build orchestration ensures integration across both React and Angular. All deployments are automated to S3/CloudFront (static) and Lambda (server), with clear CI/CD workflows for fast preview and production."

---

## 12\. Next Steps

1. **GitHub repo**: Scaffold with Nx (`nx.json` at root)

2. **Apps generated**: TanStack/React and Angular via Nx

3. **Docs started**: `/docs` folder for system/decisions

4. **Iterative build**: Nx phases, local and CI

5. **Early deployment**: AWS S3/CloudFront/Lambda pipeline, demo URL via CloudFront

---

## Appendix A: File Templates

### README.md (Top-Level)

# UCSC Assessment Hub – Portfolio Project

*Introduction, technology stack, links to live AWS-hosted demo, GitHub, docs.*

## Quick Start

```bash
npm install
npx nx run-many --target=serve --all

```

## Key Features

* OAuth2/OIDC SSO Integration

* WCAG 2.1 AA Compliant UI

* Amazon RDS & Redshift Integration

* TanStack Start (React + TypeScript)

* Angular Micro-App (admin)

* Thymeleaf Template Examples

* **Monorepo managed by Nx**

## Documentation

* 

* 

* 

* 

* 

## Deployment

**Production and demo environments are hosted on AWS:**

* Static front-ends (portal, admin) deployed to AWS S3 and distributed via CloudFront.

* Server functions/SSR deployed as AWS Lambda (API Gateway or Lambda@Edge).

* Environments, credentials, and deploy scripts follow AWS best practices (see `/docs/DEPLOYMENT.md`).

**CI/CD workflows** automate build and deployment using AWS integrations.

## Why This Project?

*Built to demonstrate readiness for the **Smarter Balanced Frontend Developer** role at UCSC, with best practices in authentication, accessibility, AWS-native deployment, and true legacy-to-modern migration.*

---

## How to Use This Document

* Use for note-taking, progress tracking, sharing with mentors/hiring teams

* Use the Success Criteria and Appendix for checkpoints

* Update Docs (especially Architecture, ACCESSIBILITY, DATABASE, DEPLOYMENT) as you progress

---

*This PRD serves as your north star for building, documenting, and deploying a modern, accessible, cloud-integrated student assessment hub, with AWS as the preferred deployment platform.*
